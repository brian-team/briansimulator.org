<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Getting the timing right (scheduling 1) | The Brian spiking neural network simulator</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#333e63">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="https://briansimulator.org/posts/2020/video-scheduling-1/">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><script async src="https://www.googletagmanager.com/gtag/js?id=UA-84065998-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-84065998-2', { 'anonymize_ip': true });
</script><script src="https://kit.fontawesome.com/2b48dbc3a6.js" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="../../../assets/css/custom.css">
<!-- Global site tag (gtag.js) - Google Analytics --><meta name="author" content="Brian team">
<link rel="prev" href="../brian-discourse-forum/" title="New Brian community forum" type="text/html">
<link rel="next" href="../brian-24/" title="New release: Brian 2.4" type="text/html">
<meta property="og:site_name" content="The Brian spiking neural network simulator">
<meta property="og:title" content="Getting the timing right (scheduling 1)">
<meta property="og:url" content="https://briansimulator.org/posts/2020/video-scheduling-1/">
<meta property="og:description" content='This article is written as a Jupyter notebook which you can execute and modify interactively.
    You can either download it via the "Source" link on the top right, or run it directly in the browser o'>
<meta property="og:image" content="https://briansimulator.org/images/articles/2020/scheduling_1.png">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-09-04T13:00:00Z">
<meta property="article:tag" content="training">
<meta property="article:tag" content="video">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@briansimulator">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4 navbar-dark bg-blue"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="https://briansimulator.org/">
            <img src="../../../logos/brian_logo_small.png" alt="The Brian spiking neural network simulator" id="logo" class="d-inline-block align-top"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../../install/" class="nav-link">Install</a>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Getting started</a>
            <div class="dropdown-menu">
                    <a href="https://mybinder.org/v2/gh/brian-team/brian2-binder/master?filepath=demo.ipynb" class="dropdown-item">Try in the browser</a>
                    <a href="../../../getting-started" class="dropdown-item">Beginners guide</a>
                    <a href="https://brian2.readthedocs.io/en/stable/resources/tutorials/index.html" class="dropdown-item">Tutorials</a>
                    <a href="https://brian2.readthedocs.io/en/stable/examples/index.html" class="dropdown-item">Examples</a>
                    <a href="https://brian2.readthedocs.io" class="dropdown-item">Documentation</a>
            </div>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Blog</a>
            <div class="dropdown-menu">
                    <a href="../../../blog" class="dropdown-item">All posts</a>
                    <a href="../../../categories/news" class="dropdown-item">News</a>
                    <a href="../../../categories/article" class="dropdown-item">Articles</a>
                    <a href="../../../tags/" class="dropdown-item">Tags</a>
                    <a href="../../../archive.html" class="dropdown-item">Archive</a>
            </div>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Community</a>
            <div class="dropdown-menu">
                    <a href="https://brian.discourse.group" class="dropdown-item">Support forum</a>
                    <a href="https://gitter.im/brian-team/brian2" class="dropdown-item">Chat group</a>
                    <a href="../../../papers-using-brian/" class="dropdown-item">Papers using Brian</a>
                    <a href="../../../ecosystem/" class="dropdown-item">Software ecosystem</a>
                    <a href="https://senselab.med.yale.edu/ModelDB/ModelList?id=231240&amp;allsimu=true" class="dropdown-item">Models</a>
                    <a href="../../../contribute" class="dropdown-item">How to contribute</a>
            </div>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Material</a>
            <div class="dropdown-menu">
                    <a href="../../../publications/" class="dropdown-item">Our papers</a>
                    <a href="../../../cite/" class="dropdown-item">How to cite us</a>
                    <a href="https://github.com/brian-team/brian-material/tree/master/logos" class="dropdown-item">Download logos</a>
                    <a href="https://github.com/brian-team/brian2" class="dropdown-item">GitHub repository</a>
            </div>
                </li>
<li class="nav-item">
<a href="../../../team" class="nav-link">Team</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item">
<a href="../../../rss.xml" class="nav-link">RSS feed</a>

                
                
                    
    
    </li>
<li class="nav-item">
    <a href="index.ipynb" id="sourcelink" class="nav-link">Source</a>
    </li>


                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Getting the timing right (scheduling 1)</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Brian team
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2020-09-04T13:00:00Z" itemprop="datePublished" title="2020-09-04">2020-09-04</time></a>
            </p>
            
        <p class="sourceline"><a href="index.ipynb" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<!-- Functionary(<function Post.__init__.<locals>.<lambda> at 0x7f14747bb290>, {'en': defaultdict(<function get_meta.<locals>.<lambda> at 0x7f14747bbf80>, {'has_math': 'true', 'previewimage': '/images/articles/2020/scheduling_1.png', 'title': 'Getting the timing right (scheduling\xa01)', 'slug': 'video-scheduling-1', 'date': '2020-09-04 13:00', 'tags': 'training, video', 'category': 'article', 'updated': '2020-09-04 13:00', 'type': 'text', 'url_type': '', 'priority': '', 'author': '', 'filters': '', 'password': '', 'data': '', 'description': '', 'template': ''})}) -->
    <div class="alert alert-primary notebook-header" role="alert">
    <p>
    This article is written as a <a href="https://jupyter.org">Jupyter notebook</a> which you can execute and modify interactively.
    You can either download it via the "Source" link on the top right, or run it directly in the browser on the
    <a href="https://mybinder.org">mybinder</a> infrastructure: <a href="https://mybinder.org/v2/gh/brian-team/briansimulator.org/master?filepath=articles%2F2020%2Fscheduling_1.ipynb">
    <img src="https://static.mybinder.org/badge_logo.svg" alt="Launch binder" class="d-inline-block"></a>
    </p>
    <p><strong>For more information, see our general <a href="../notes-notebooks/">Notes on Notebooks</a>.</strong></p>
    </div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="notebook-quickstart">
<h4>Quickstart</h4>
To run the code below:
<ol>
<li>Click on the cell to select it.</li>
<li>Press <code>SHIFT+ENTER</code> on your keyboard or press the play button
   (<button class="fa fa-play icon-play btn btn-xs btn-default"></button>) in the toolbar above</li>
</ol>
Feel free to create new cells using the plus button
(<button class="fa fa-plus icon-plus btn btn-xs btn-default"></button>), or pressing <code>SHIFT+ENTER</code> while this cell
is selected.
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>"Scheduling": mechanism to determine the order of operations during a simulation</p>
<p>In this notebook we will look at its importance for:</p>
<ul>
<li>recording values with a <code>StateMonitor</code>
</li>
</ul>
<p>You can also watch the <a href="https://youtu.be/ib0UMU-H6eY"><i class="fab fa-youtube"></i>  screencast video on Youtube</a>.
<!-- TEASER_END --></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">brian2</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">brian2tools</span> <span class="kn">import</span> <span class="n">brian_plot</span>
<span class="o">%</span><span class="k">matplotlib</span> notebook
<span class="n">prefs</span><span class="o">.</span><span class="n">codegen</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="s1">'numpy'</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following example is a leaky integrate-and-fire neuron with a constant current input. As soon as the membrane potential crosses the threshold of -50mV, a spike is emitted and the membrane potential reset to -70mV.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">start_scope</span><span class="p">()</span>
<span class="n">C_m</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">nF</span>
<span class="n">g_L</span> <span class="o">=</span> <span class="mi">20</span><span class="o">*</span><span class="n">nS</span>
<span class="n">E_L</span> <span class="o">=</span> <span class="o">-</span><span class="mi">70</span><span class="o">*</span><span class="n">mV</span>
<span class="n">I_ext</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">nA</span>
<span class="n">group</span> <span class="o">=</span> <span class="n">NeuronGroup</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'''dv/dt = (g_L*(E_L -v) + I_ext)/C_m : volt'''</span><span class="p">,</span>
                   <span class="n">threshold</span><span class="o">=</span><span class="s1">'v&gt;-50*mV'</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="s1">'v=E_L'</span><span class="p">,</span>
                   <span class="n">method</span><span class="o">=</span><span class="s1">'exact'</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">v</span> <span class="o">=</span> <span class="n">E_L</span>

<span class="n">mon</span> <span class="o">=</span> <span class="n">StateMonitor</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="s1">'v'</span><span class="p">,</span> <span class="n">record</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">run</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">ms</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">brian_plot</span><span class="p">(</span><span class="n">mon</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">':'</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="1069460e-9efe-4329-b1be-38f7afc5d728"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#1069460e-9efe-4329-b1be-38f7afc5d728');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support. ' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('<div/>');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '<div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/>');
    var titletext = $(
        '<div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/>');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('<div/>');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('<canvas/>');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('<canvas/>');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('<div/>');
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('<button/>');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('<span/>');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('<span/>');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('<span/>');

    var fmt_picker = $('<select/>');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '<option/>', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option);
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('<span class="mpl-message"/>');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width / mpl.ratio, fig.canvas.height / mpl.ratio);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' && evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey && event.which != 17)
        value += "ctrl+";
    if (event.altKey && event.which != 18)
        value += "alt+";
    if (event.shiftKey && event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "pdf", "png", "ps", "raw", "svg"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('<img src="' + dataURL + '" width="' + width + '">');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '<img src="' + dataURL + '" width="' + width + '">';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('<div/>');
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('<button class="btn btn-default" href="#" title="' + name + '"><i class="fa ' + image + ' fa-lg"></i></button>');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('<span class="mpl-message" style="text-align:right; float: right;"/>');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('<div class="btn-group inline pull-right"></div>');
    var button = $('<button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"><i class="fa fa-power-off icon-remove icon-large"></i></button>');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey && event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i<ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j<cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<img src="data:image/png;base64,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" width="640">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you zoom into the plot above, you see that the membrane potential never seems to cross the threshold!
We can also see this by analyzing the recorded membrane potential values:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mon</span><span class="o">.</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>




<div class="output_latex output_subarea output_execute_result">
$-50.02477894061322\,\mathrm{m}\,\mathrm{V}$
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The reason for this becomes clear when we look into Brian's scheduling in more detail. Brian comes with a useful function <code>scheduling_summary</code>, that displays the scheduling information for the current network:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scheduling_summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[4]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">

        <table>
<thead><tr>
<th style="text-align: center;">object</th>
            <th style="text-align: center;">part of</th>
            <th style="text-align: center;">Clock dt</th>
            <th style="text-align: center;">when</th>
            <th style="text-align: center;">order</th>
            <th style="text-align: center;">active</th>
        </tr></thead>
<tbody>
<tr>
<td style="text-align: left;">
<b>statemonitor</b> (<em>StateMonitor</em>)</td>
            <td style="text-align: left;">statemonitor (<em>StateMonitor</em>)</td>
            <td style="text-align: left;">100. us (every step)</td>
            <td style="text-align: left;">start</td>
            <td style="text-align: right;">0</td>
            <td style="text-align: center;">yes</td>
        </tr>
<tr>
<td style="text-align: left;">
<b>neurongroup_stateupdater</b> (<em>StateUpdater</em>)</td>
            <td style="text-align: left;">neurongroup (<em>NeuronGroup</em>)</td>
            <td style="text-align: left;">100. us (every step)</td>
            <td style="text-align: left;">groups</td>
            <td style="text-align: right;">0</td>
            <td style="text-align: center;">yes</td>
        </tr>
<tr>
<td style="text-align: left;">
<b>neurongroup_thresholder</b> (<em>Thresholder</em>)</td>
            <td style="text-align: left;">neurongroup (<em>NeuronGroup</em>)</td>
            <td style="text-align: left;">100. us (every step)</td>
            <td style="text-align: left;">thresholds</td>
            <td style="text-align: right;">0</td>
            <td style="text-align: center;">yes</td>
        </tr>
<tr>
<td style="text-align: left;">
<b>neurongroup_resetter</b> (<em>Resetter</em>)</td>
            <td style="text-align: left;">neurongroup (<em>NeuronGroup</em>)</td>
            <td style="text-align: left;">100. us (every step)</td>
            <td style="text-align: left;">resets</td>
            <td style="text-align: right;">0</td>
            <td style="text-align: center;">yes</td>
        </tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As you can see above, the first thing that gets executed during a time step is the <code>StateMonitor</code>, followed by the state update step (the numerical integration of the differential equations), the threshold check, and finally the reset. Now the previous observation makes sense. In a time step where the threshold is crossed, the following things happen:</p>
<ol>
<li>The membrane potential gets recorded (it is still below the threshold)</li>
<li>The state update step updates the membrane potential, it is now above the threshold</li>
<li>The thresholder compares the membrane potential to the threshold and signals a spike</li>
<li>The resetter resets the membrane potential</li>
</ol>
<p>The <code>StateMonitor</code> therefore never records a membrane potential that is above the threshold.</p>
<p>How is the order of operations determined? Each object has a <code>when</code> and and <code>order</code> attribute. The basic execution slot is defined by the <code>when</code> attribute, the <code>order</code> attribute is only used when there is more than one object in the same slot.</p>
<p>The slots and their order are given in the <code>schedule</code> attribute of the <code>Network</code> object (here we use <code>magic_network</code>, because we haven't constructed a <code>Network</code> object ourselves):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">magic_network</span><span class="o">.</span><span class="n">schedule</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>['start', 'groups', 'thresholds', 'synapses', 'resets', 'end']</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In addition to the listed slots, there are <code>before_...</code> and <code>after_...</code> for each of the names, just before and after the corresponding slots. If we are interested in recording the membrane potential before the threshold is checked, we can therefore use <code>before_thresholds</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">start_scope</span><span class="p">()</span>
<span class="n">C_m</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">nF</span>
<span class="n">g_L</span> <span class="o">=</span> <span class="mi">20</span><span class="o">*</span><span class="n">nS</span>
<span class="n">E_L</span> <span class="o">=</span> <span class="o">-</span><span class="mi">70</span><span class="o">*</span><span class="n">mV</span>
<span class="n">I_ext</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">nA</span>
<span class="n">group</span> <span class="o">=</span> <span class="n">NeuronGroup</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'''dv/dt = (g_L*(E_L -v) + I_ext)/C_m : volt'''</span><span class="p">,</span>
                   <span class="n">threshold</span><span class="o">=</span><span class="s1">'v&gt;-50*mV'</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="s1">'v=E_L'</span><span class="p">,</span>
                   <span class="n">method</span><span class="o">=</span><span class="s1">'exact'</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="n">v</span> <span class="o">=</span> <span class="n">E_L</span>

<span class="n">mon</span> <span class="o">=</span> <span class="n">StateMonitor</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="s1">'v'</span><span class="p">,</span> <span class="n">record</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">when</span><span class="o">=</span><span class="s1">'before_thresholds'</span><span class="p">)</span>  <span class="c1"># &lt;-- change here</span>

<span class="n">run</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">ms</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">brian_plot</span><span class="p">(</span><span class="n">mon</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">':'</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="3719f596-12fe-4246-8fb3-3b1af2293f4c"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#3719f596-12fe-4246-8fb3-3b1af2293f4c');
/* Put everything inside the global mpl namespace */
window.mpl = {};


mpl.get_websocket_type = function() {
    if (typeof(WebSocket) !== 'undefined') {
        return WebSocket;
    } else if (typeof(MozWebSocket) !== 'undefined') {
        return MozWebSocket;
    } else {
        alert('Your browser does not have WebSocket support. ' +
              'Please try Chrome, Safari or Firefox ≥ 6. ' +
              'Firefox 4 and 5 are also supported but you ' +
              'have to enable WebSockets in about:config.');
    };
}

mpl.figure = function(figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = (this.ws.binaryType != undefined);

    if (!this.supports_binary) {
        var warnings = document.getElementById("mpl-warnings");
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent = (
                "This browser does not support binary websocket messages. " +
                    "Performance may be slow.");
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = $('<div/>');
    this._root_extra_style(this.root)
    this.root.attr('style', 'display: inline-block');

    $(parent_element).append(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen =  function () {
            fig.send_message("supports_binary", {value: fig.supports_binary});
            fig.send_message("send_image_mode", {});
            if (mpl.ratio != 1) {
                fig.send_message("set_dpi_ratio", {'dpi_ratio': mpl.ratio});
            }
            fig.send_message("refresh", {});
        }

    this.imageObj.onload = function() {
            if (fig.image_mode == 'full') {
                // Full images could contain transparency (where diff images
                // almost always do), so we need to clear the canvas so that
                // there is no ghosting.
                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
            }
            fig.context.drawImage(fig.imageObj, 0, 0);
        };

    this.imageObj.onunload = function() {
        fig.ws.close();
    }

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
}

mpl.figure.prototype._init_header = function() {
    var titlebar = $(
        '<div class="ui-dialog-titlebar ui-widget-header ui-corner-all ' +
        'ui-helper-clearfix"/>');
    var titletext = $(
        '<div class="ui-dialog-title" style="width: 100%; ' +
        'text-align: center; padding: 3px;"/>');
    titlebar.append(titletext)
    this.root.append(titlebar);
    this.header = titletext[0];
}



mpl.figure.prototype._canvas_extra_style = function(canvas_div) {

}


mpl.figure.prototype._root_extra_style = function(canvas_div) {

}

mpl.figure.prototype._init_canvas = function() {
    var fig = this;

    var canvas_div = $('<div/>');

    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');

    function canvas_keyboard_event(event) {
        return fig.key_event(event, event['data']);
    }

    canvas_div.keydown('key_press', canvas_keyboard_event);
    canvas_div.keyup('key_release', canvas_keyboard_event);
    this.canvas_div = canvas_div
    this._canvas_extra_style(canvas_div)
    this.root.append(canvas_div);

    var canvas = $('<canvas/>');
    canvas.addClass('mpl-canvas');
    canvas.attr('style', "left: 0; top: 0; z-index: 0; outline: 0")

    this.canvas = canvas[0];
    this.context = canvas[0].getContext("2d");

    var backingStore = this.context.backingStorePixelRatio ||
	this.context.webkitBackingStorePixelRatio ||
	this.context.mozBackingStorePixelRatio ||
	this.context.msBackingStorePixelRatio ||
	this.context.oBackingStorePixelRatio ||
	this.context.backingStorePixelRatio || 1;

    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;

    var rubberband = $('<canvas/>');
    rubberband.attr('style', "position: absolute; left: 0; top: 0; z-index: 1;")

    var pass_mouse_events = true;

    canvas_div.resizable({
        start: function(event, ui) {
            pass_mouse_events = false;
        },
        resize: function(event, ui) {
            fig.request_resize(ui.size.width, ui.size.height);
        },
        stop: function(event, ui) {
            pass_mouse_events = true;
            fig.request_resize(ui.size.width, ui.size.height);
        },
    });

    function mouse_event_fn(event) {
        if (pass_mouse_events)
            return fig.mouse_event(event, event['data']);
    }

    rubberband.mousedown('button_press', mouse_event_fn);
    rubberband.mouseup('button_release', mouse_event_fn);
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband.mousemove('motion_notify', mouse_event_fn);

    rubberband.mouseenter('figure_enter', mouse_event_fn);
    rubberband.mouseleave('figure_leave', mouse_event_fn);

    canvas_div.on("wheel", function (event) {
        event = event.originalEvent;
        event['data'] = 'scroll'
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        mouse_event_fn(event);
    });

    canvas_div.append(canvas);
    canvas_div.append(rubberband);

    this.rubberband = rubberband;
    this.rubberband_canvas = rubberband[0];
    this.rubberband_context = rubberband[0].getContext("2d");
    this.rubberband_context.strokeStyle = "#000000";

    this._resize_canvas = function(width, height) {
        // Keep the size of the canvas, canvas container, and rubber band
        // canvas in synch.
        canvas_div.css('width', width)
        canvas_div.css('height', height)

        canvas.attr('width', width * mpl.ratio);
        canvas.attr('height', height * mpl.ratio);
        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');

        rubberband.attr('width', width);
        rubberband.attr('height', height);
    }

    // Set the figure to an initial 600x600px, this will subsequently be updated
    // upon first draw.
    this._resize_canvas(600, 600);

    // Disable right mouse context menu.
    $(this.rubberband_canvas).bind("contextmenu",function(e){
        return false;
    });

    function set_focus () {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('<div/>');
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            // put a spacer in here.
            continue;
        }
        var button = $('<button/>');
        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +
                        'ui-button-icon-only');
        button.attr('role', 'button');
        button.attr('aria-disabled', 'false');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);

        var icon_img = $('<span/>');
        icon_img.addClass('ui-button-icon-primary ui-icon');
        icon_img.addClass(image);
        icon_img.addClass('ui-corner-all');

        var tooltip_span = $('<span/>');
        tooltip_span.addClass('ui-button-text');
        tooltip_span.html(tooltip);

        button.append(icon_img);
        button.append(tooltip_span);

        nav_element.append(button);
    }

    var fmt_picker_span = $('<span/>');

    var fmt_picker = $('<select/>');
    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');
    fmt_picker_span.append(fmt_picker);
    nav_element.append(fmt_picker_span);
    this.format_dropdown = fmt_picker[0];

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = $(
            '<option/>', {selected: fmt === mpl.default_extension}).html(fmt);
        fmt_picker.append(option);
    }

    // Add hover states to the ui-buttons
    $( ".ui-button" ).hover(
        function() { $(this).addClass("ui-state-hover");},
        function() { $(this).removeClass("ui-state-hover");}
    );

    var status_bar = $('<span class="mpl-message"/>');
    nav_element.append(status_bar);
    this.message = status_bar[0];
}

mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});
}

mpl.figure.prototype.send_message = function(type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
}

mpl.figure.prototype.send_draw_message = function() {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({type: "draw", figure_id: this.id}));
    }
}


mpl.figure.prototype.handle_save = function(fig, msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
}


mpl.figure.prototype.handle_resize = function(fig, msg) {
    var size = msg['size'];
    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {
        fig._resize_canvas(size[0], size[1]);
        fig.send_message("refresh", {});
    };
}

mpl.figure.prototype.handle_rubberband = function(fig, msg) {
    var x0 = msg['x0'] / mpl.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;
    var x1 = msg['x1'] / mpl.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0, 0, fig.canvas.width / mpl.ratio, fig.canvas.height / mpl.ratio);

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
}

mpl.figure.prototype.handle_figure_label = function(fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
}

mpl.figure.prototype.handle_cursor = function(fig, msg) {
    var cursor = msg['cursor'];
    switch(cursor)
    {
    case 0:
        cursor = 'pointer';
        break;
    case 1:
        cursor = 'default';
        break;
    case 2:
        cursor = 'crosshair';
        break;
    case 3:
        cursor = 'move';
        break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
}

mpl.figure.prototype.handle_message = function(fig, msg) {
    fig.message.textContent = msg['message'];
}

mpl.figure.prototype.handle_draw = function(fig, msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
}

mpl.figure.prototype.handle_image_mode = function(fig, msg) {
    fig.image_mode = msg['mode'];
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Called whenever the canvas gets updated.
    this.send_message("ack", {});
}

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function(fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = "image/png";

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src);
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data);
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }
        else if (typeof evt.data === 'string' && evt.data.slice(0, 21) == "data:image/png;base64") {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig["handle_" + msg_type];
        } catch (e) {
            console.log("No handler for the '" + msg_type + "' message type: ", msg);
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log("Exception inside the 'handler_" + msg_type + "' callback:", e, e.stack, msg);
            }
        }
    };
}

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function(e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e)
        e = window.event;
    if (e.target)
        targ = e.target;
    else if (e.srcElement)
        targ = e.srcElement;
    if (targ.nodeType == 3) // defeat Safari bug
        targ = targ.parentNode;

    // jQuery normalizes the pageX and pageY
    // pageX,Y are the mouse positions relative to the document
    // offset() returns the position of the element relative to the document
    var x = e.pageX - $(targ).offset().left;
    var y = e.pageY - $(targ).offset().top;

    return {"x": x, "y": y};
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys (original) {
  return Object.keys(original).reduce(function (obj, key) {
    if (typeof original[key] !== 'object')
        obj[key] = original[key]
    return obj;
  }, {});
}

mpl.figure.prototype.mouse_event = function(event, name) {
    var canvas_pos = mpl.findpos(event)

    if (name === 'button_press')
    {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * mpl.ratio;
    var y = canvas_pos.y * mpl.ratio;

    this.send_message(name, {x: x, y: y, button: event.button,
                             step: event.step,
                             guiEvent: simpleKeys(event)});

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
}

mpl.figure.prototype._key_event_extra = function(event, name) {
    // Handle any extra behaviour associated with a key event
}

mpl.figure.prototype.key_event = function(event, name) {

    // Prevent repeat events
    if (name == 'key_press')
    {
        if (event.which === this._key)
            return;
        else
            this._key = event.which;
    }
    if (name == 'key_release')
        this._key = null;

    var value = '';
    if (event.ctrlKey && event.which != 17)
        value += "ctrl+";
    if (event.altKey && event.which != 18)
        value += "alt+";
    if (event.shiftKey && event.which != 16)
        value += "shift+";

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, {key: value,
                             guiEvent: simpleKeys(event)});
    return false;
}

mpl.figure.prototype.toolbar_button_onclick = function(name) {
    if (name == 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message("toolbar_button", {name: name});
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Pan axes with left mouse, zoom with right", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "pdf", "png", "ps", "raw", "svg"];

mpl.default_extension = "png";var comm_websocket_adapter = function(comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function() {
        comm.close()
    };
    ws.send = function(m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function(msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data'])
    });
    return ws;
}

mpl.mpl_figure_comm = function(comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = $("#" + id);
    var ws_proxy = comm_websocket_adapter(comm)

    function ondownload(figure, format) {
        window.open(figure.imageObj.src);
    }

    var fig = new mpl.figure(id, ws_proxy,
                           ondownload,
                           element.get(0));

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element.get(0);
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error("Failed to find cell for figure", id, fig);
        return;
    }

    var output_index = fig.cell_info[2]
    var cell = fig.cell_info[0];

};

mpl.figure.prototype.handle_close = function(fig, msg) {
    var width = fig.canvas.width/mpl.ratio
    fig.root.unbind('remove')

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable()
    $(fig.parent_element).html('<img src="' + dataURL + '" width="' + width + '">');
    fig.close_ws(fig, msg);
}

mpl.figure.prototype.close_ws = function(fig, msg){
    fig.send_message('closing', msg);
    // fig.ws.close()
}

mpl.figure.prototype.push_to_output = function(remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width/mpl.ratio
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] = '<img src="' + dataURL + '" width="' + width + '">';
}

mpl.figure.prototype.updated_canvas_event = function() {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message("ack", {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () { fig.push_to_output() }, 1000);
}

mpl.figure.prototype._init_toolbar = function() {
    var fig = this;

    var nav_element = $('<div/>');
    nav_element.attr('style', 'width: 100%');
    this.root.append(nav_element);

    // Define a callback function for later on.
    function toolbar_event(event) {
        return fig.toolbar_button_onclick(event['data']);
    }
    function toolbar_mouse_event(event) {
        return fig.toolbar_button_onmouseover(event['data']);
    }

    for(var toolbar_ind in mpl.toolbar_items){
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) { continue; };

        var button = $('<button class="btn btn-default" href="#" title="' + name + '"><i class="fa ' + image + ' fa-lg"></i></button>');
        button.click(method_name, toolbar_event);
        button.mouseover(tooltip, toolbar_mouse_event);
        nav_element.append(button);
    }

    // Add the status bar.
    var status_bar = $('<span class="mpl-message" style="text-align:right; float: right;"/>');
    nav_element.append(status_bar);
    this.message = status_bar[0];

    // Add the close button to the window.
    var buttongrp = $('<div class="btn-group inline pull-right"></div>');
    var button = $('<button class="btn btn-mini btn-primary" href="#" title="Stop Interaction"><i class="fa fa-power-off icon-remove icon-large"></i></button>');
    button.click(function (evt) { fig.handle_close(fig, {}); } );
    button.mouseover('Stop Interaction', toolbar_mouse_event);
    buttongrp.append(button);
    var titlebar = this.root.find($('.ui-dialog-titlebar'));
    titlebar.prepend(buttongrp);
}

mpl.figure.prototype._root_extra_style = function(el){
    var fig = this
    el.on("remove", function(){
	fig.close_ws(fig, {});
    });
}

mpl.figure.prototype._canvas_extra_style = function(el){
    // this is important to make the div 'focusable
    el.attr('tabindex', 0)
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    }
    else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }

}

mpl.figure.prototype._key_event_extra = function(event, name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager)
        manager = IPython.keyboard_manager;

    // Check for shift+enter
    if (event.shiftKey && event.which == 13) {
        this.canvas_div.blur();
        event.shiftKey = false;
        // Send a "J" for go to next cell
        event.which = 74;
        event.keyCode = 74;
        manager.command_mode();
        manager.handle_keydown(event);
    }
}

mpl.figure.prototype.handle_save = function(fig, msg) {
    fig.ondownload(fig, null);
}


mpl.find_output_cell = function(html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i=0; i<ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code'){
            for (var j=0; j<cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] == html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
}

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel != null) {
    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAHgCAYAAAA10dzkAAAgAElEQVR4nOzde3wU9b3/8SUURLxwiv7UIjp6qgVPEdpTW9RjS6mIekRstdbaWuuporYH760DCkbuigIiiCh4AZUQQEEYwiWBhFsgBAIk3AmEkEC4k4RLEnJ5//5YM2HdhezugDtz8no+HvN4nDOzhHH5bL6vfpNsfAIAAECD4ov1DQAAAOC7RQACAAA0MAQgAABAA0MAAgAANDAEIAAAQANDAAIAADQwBCAAAEADQwACAAA0MAQgAABAA0MAAgAANDAEIAAAQANDAAIAADQwBCAAAEADQwACAAA0MAQgAABAA0MAAgAANDAEIAAAQANDAAIAADQwBCAAAEADQwACAAA0MAQgAABAA0MAAgAANDAEIAAAQANDAAIAADQwBCAAAEADQwACAAA0MAQgAABAA0MAAgAANDAEIAAAQANDAAIAADQwBCAAAEADQwACAAA0MAQgAABAA0MAAgAANDAEIAAAQANDAAIAADQwBCAAAEADQwACAAA0MAQgAABAA0MAAgAANDAEIAAAQANDAAIAADQwBCAAAEADQwACAAA0MAQgAABAA0MAAgAANDAEIAAAQANDAAIAADQwBCAAAEADQwACAAA0MAQgAABAA0MAAgAANDAEIAAAQANDAAIAADQwBCAAAEADQwACAAA0MASgA9XV1SooKFBxcbFKSko4ODg4ODg4PHAUFxeroKBA1dXVsU6JmCEAHSgoKJDP5+Pg4ODg4ODw4FFQUBDrlIgZzwRgeXm5OnToIJ/PpzVr1gRcS0lJ0S233KILL7xQV1xxhV5++WVVVlbW+zHT09PVuXNnNW/eXC1atFCnTp104sSJsO+puLjYHqBY/68ZDg4ODg4OjvCO2g2c4uLiiHvk/wrPBOCzzz6ru+++OygA161bp6ZNm6pfv37atm2b0tLS1LZtW7300ktn/Hjp6em6+OKLNWTIEK1fv15bt27V1KlTVV5eHvY9lZSUyOfzqaSkJOr/LgAA8N1i/fZIACYlJalt27basGFDUAD27t1bN910U8Djp0+frmbNmqm0tPS0H7Njx47q06ePo/tigAAA8B7Wbw8E4N69e3XllVcqMzNTeXl5QQH44osv6rbbbgv4M3PnzpXP51NqamrIj7lv3z75fD69++67uuWWW3TZZZfp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tnw+nzZu3BhwvmvXrurRo0fY98cAAQDgPazfLg/Abzvdl4CHDh2q7OxsrV+/Xv3791eTJk00ffp0+3phYaHatGmjjIwMSdLJkyd13XXX6Ze//KUyMjKUm5urt99+W40aNdLs2bPDvh8GCAAA72H9/j8SgJ07d1aLFi3UrFkzdezYUUlJSSH/3Kk/Fbx161bdf//9uuyyy9S8eXO1b98+6G1h6sMAAQDgPazfHgtAt2GAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARBggAAO9h/SYAHWGAAADwHtZvAtARNw5QVXWNcgqLVVVdE+tbATzrZFW1cgqLVc3rCIha2ckq5RQWq6bGfa8jN67f3zUC0AE3DlD81+tlmJb6z9oQ61sBPOuZSVkyTEujF26L9a0AnvXncStkmJYmZeTH+laCuHH9/q4RgA64cYAM07IPANGpfQ3dGD831rcCeFbt6+iedxfH+laCuHH9/q4RgA64cYAIQMC52tfQLwYlx/pWAM+qfR39/v1l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kpOTNXLkSD344IO64IIL9NBDD2nXrl3fxX27gpsGKP7r9QQg4NALk9cQgIBDf/tkJQHoAWF9CbiiokJffPGFunfvru9///tq1KiRGjVqpLi4OLVr104vvfSSNm/efK7v1XXcNEDmtHUEIODQ05+tIgABhx7+cDkB6AFRfQ9gcXGxioqKdPLkybN9P57ipgF6LiFLhmnph71nE4BAlB77OCPgdUQAApH73XtLZZiWrntlNgHoYvwQiANuGqCnJvp3Ln782lwCEIjSHz9YHvA6IgCByN39zmIZpqV237yOCEB3IgAdcNMAPfqRf+fiZwOSCUAgSveNXhrwOiIAgch1fitVhmnppoHJBKCLEYAOuGmA/jA2XYZp6b/eWEAAAlG6c8SigNcRAQhE7pbBKTJMS7e9uYAAdDEC0AE3DVD3UUtkmJa6DEsjAIEodRq6MOB1RAACkftJv3kyTEt3DE8jAF2MAHTATQPUdbh/56Lbu0sIQCBKHQelBLyOCEAgcm37zJFhWrr3m40JAtCdIv5dwCkpKaqpqTlX9+MpbhqgX77p37n4/fvLCEAgSu1fnxfwOiIAgcjU1NTYb//y4PvpBKCLRRSA9957r8477zy1atVKL774otasWXOu7ssT3DRAP//mm20fGb+CAASi9KNXkwJeRwQgEJmyk1V2AP7lmx9OJADdKeIvAR85ckQffPCBOnXqpLi4ON1www0aNGiQ8vLyzsHtuZubBujGeP+P2z8xIZMABKJQXV23c1H7OiIAgcgUHz9pv456fPM6IgDdydH3ABYUFGjo0KFq27atGjdufLbuyTPcNEDXv+LfuXhmUhYBCEThREXdzkXt64gABCJTVFxmv5l67e8EJgDdKeoAPHnypKZPn64HHnhAzZo1U6tWrc7mfXmCWwao6pSdi5enriMAgSgcPlYR9DoiAIHI5B04Zr+ZOgHobhEH4MKFC/XEE0/o+9//vi6++GI99thjSk5OVnV19bm4P1dzywAdK6+0F674r9cTgEAUdh85IcO0dP0rSer1ZTYBCERh454S+83UCUB3iygAr7zySjVr1kz33XefpkyZorKysnN1X57glgE6eLTcDsDBszcSgEAUtu8/6v/1VfFzCUAgSln5h+03UycA3S2iAPzggw90+PDhc3UvnuOWASo4fNy/c/FqkoYkbSIAgSis311s//oqAhCI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" width="640">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, the membrane potential that gets recorded by the <code>StateMonitor</code> does indeed cross the threshold, as you can confirm by zooming into the above plot or by checking the recorded values:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mon</span><span class="o">.</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[7]:</div>




<div class="output_latex output_subarea output_execute_result">
$-49.96478939227684\,\mathrm{m}\,\mathrm{V}$
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can easily verify that this change is due to the change in scheduling:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scheduling_summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">

        <table>
<thead><tr>
<th style="text-align: center;">object</th>
            <th style="text-align: center;">part of</th>
            <th style="text-align: center;">Clock dt</th>
            <th style="text-align: center;">when</th>
            <th style="text-align: center;">order</th>
            <th style="text-align: center;">active</th>
        </tr></thead>
<tbody>
<tr>
<td style="text-align: left;">
<b>neurongroup_1_stateupdater</b> (<em>StateUpdater</em>)</td>
            <td style="text-align: left;">neurongroup_1 (<em>NeuronGroup</em>)</td>
            <td style="text-align: left;">100. us (every step)</td>
            <td style="text-align: left;">groups</td>
            <td style="text-align: right;">0</td>
            <td style="text-align: center;">yes</td>
        </tr>
<tr>
<td style="text-align: left;">
<b>statemonitor_1</b> (<em>StateMonitor</em>)</td>
            <td style="text-align: left;">statemonitor_1 (<em>StateMonitor</em>)</td>
            <td style="text-align: left;">100. us (every step)</td>
            <td style="text-align: left;">before_thresholds</td>
            <td style="text-align: right;">0</td>
            <td style="text-align: center;">yes</td>
        </tr>
<tr>
<td style="text-align: left;">
<b>neurongroup_1_thresholder</b> (<em>Thresholder</em>)</td>
            <td style="text-align: left;">neurongroup_1 (<em>NeuronGroup</em>)</td>
            <td style="text-align: left;">100. us (every step)</td>
            <td style="text-align: left;">thresholds</td>
            <td style="text-align: right;">0</td>
            <td style="text-align: center;">yes</td>
        </tr>
<tr>
<td style="text-align: left;">
<b>neurongroup_1_resetter</b> (<em>Resetter</em>)</td>
            <td style="text-align: left;">neurongroup_1 (<em>NeuronGroup</em>)</td>
            <td style="text-align: left;">100. us (every step)</td>
            <td style="text-align: left;">resets</td>
            <td style="text-align: right;">0</td>
            <td style="text-align: center;">yes</td>
        </tr>
</tbody>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As you can see above, the <code>StateMonitor</code> now records its values <em>after</em> the state update step and no longer before.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For more information on this topic, have a look at Brian's <a href="https://brian2.readthedocs.io/en/stable/user/running.html#scheduling"><i class="fas fa-book"></i> documentation</a></p>

</div>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../tags/training/" rel="tag">training</a></li>
            <li><a class="tag p-category" href="../../../tags/video/" rel="tag">video</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../brian-discourse-forum/" rel="prev" title="New Brian community forum">Previous post</a>
            </li>
            <li class="next">
                <a href="../brian-24/" rel="next" title="New release: Brian 2.4">Next post</a>
            </li>
        </ul></nav></aside><script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script><script>
                renderMathInElement(document.body,
                    {
                        
delimiters: [
    {left: "$$", right: "$$", display: true},
    {left: "\\[", right: "\\]", display: true},
    {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
    {left: "$", right: "$", display: false},
    {left: "\\(", right: "\\)", display: false}
]

                    }
                );
            </script></article><!--End of body content--><footer id="footer" class="text-center">
            Contents © 2020         Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>          –Brian on <a href="https://twitter.com/briansimulator"><i class="fab fa-twitter" aria-hidden="true" title="Twitter"></i><span class="sr-only">Brian on Twitter</span></a> <a href="https://github.com/brian-team/brian2"><i class="fab fa-github" aria-hidden="true" title="GitHub"></i><span class="sr-only">Brian on GitHub</span></a> <a href="https://brian2.readthedocs.io"><i class="fas fa-book" aria-hidden="true" title="ReadTheDocs"></i><span class="sr-only">Brian on ReadTheDocs</span></a>
            
            
        </footer>
</div>
</div>


        <script src="../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
